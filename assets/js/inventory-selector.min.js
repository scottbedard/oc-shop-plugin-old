+function(t){"use strict";var n=function(n){var a=this;a.$container=t(n),a.$options=a.$container.find("select"),a.available=a.$container.data("available"),a.disabledMsg=a.$container.data("disabled")||"Out of stock",a.updateAvailable(),a.$options.on("change",function(){a.updateAvailable()}),a.$container.find("[data-clear]").on("click",function(){a.clearSelection(t(this).data("clear")),a.updateAvailable()})};n.prototype.updateAvailable=function(){var n=this;n.$options.each(function(){var a=t(this).find("option"),e=t(this).data("option"),i=[];n.$options.each(function(){var n=parseInt(t(this).val());t(this).data("option")!=e&&n&&i.push(n)}),a.each(function(){var a=parseInt(t(this).val());if(!a)return!0;var e=i.slice();e.push(a);var o=!function(t){for(var a=0,e=n.available.length;e>a;a++)if(n.arrayMatch(t,n.available[a],!1))return!0;return!1}(e);t(this).prop("disabled",o),t(this).html(o?t(this).data("name")+" - "+n.disabledMsg:t(this).data("name"))})}),n.updateButton(),t(document).trigger("bedard.shop::inventory.selected")},n.prototype.arrayMatch=function(n,a,e){for(var i=0,o=n.length;o>i;i++)if(-1==t.inArray(n[i],a))return!1;return!e||n.length==a.length},n.prototype.clearSelection=function(t){var n=this,a=n.$container.find('select[data-option="'+t+'"]');a.find("option").prop("selected",function(){return this.defaultSelected}),a.blur()},n.prototype.updateButton=function(){var n=this,a=n.$container.find('[data-control="cart-add"]'),e=!0,i=[];n.$options.each(function(){t(this).val()&&i.push(parseInt(t(this).val()))});for(var o=0,r=n.available.length;r>o;o++)n.arrayMatch(i,n.available[o],!0)&&(e=!1);a.prop("disabled",e)};var a=t.fn.inventorySelector;t.fn.inventorySelector=function(){new n(this)},t.fn.inventorySelector.noConflict=function(){return t.fn.inventorySelector=a,this},t(document).ready(function(){t('[data-control="inventory-selector"]').inventorySelector()})}(window.jQuery);