+function(t){"use strict";var a=function(a){var n=this;n.$container=t(a),n.$options=n.$container.find("select"),n.available=n.$container.data("available"),n.disabledMsg=n.$container.data("disabled")||"Out of stock",n.updateAvailable(),n.$options.on("change",function(){n.updateAvailable()}),n.$container.find("[data-clear]").on("click",function(){n.clearSelection(t(this).data("clear")),n.updateAvailable()})};a.prototype.updateAvailable=function(){var a=this;a.$options.each(function(){var n=t(this).find("option"),e=t(this).data("option"),i=[];a.$options.each(function(){var a=parseInt(t(this).val());t(this).data("option")!=e&&a&&i.push(a)}),n.each(function(){var n=parseInt(t(this).val());if(!n)return!0;var e=i.slice();e.push(n);var o=!function(t){for(var n=0,e=a.available.length;e>n;n++)if(a.arrayMatch(t,a.available[n],!1))return!0;return!1}(e);t(this).prop("disabled",o),t(this).html(o?t(this).data("name")+" - "+a.disabledMsg:t(this).data("name"))})}),a.updateButton(),t(document).trigger("bedard.shop::inventory.selected")},a.prototype.arrayMatch=function(a,n,e){for(var i=0,o=a.length;o>i;i++)if(-1==t.inArray(a[i],n))return!1;return!e||a.length==n.length},a.prototype.clearSelection=function(t){var a=this,n=a.$container.find('select[data-option="'+t+'"]');n.find("option").prop("selected",function(){return this.defaultSelected}),n.blur()},a.prototype.updateButton=function(){var a=this,n=a.$container.find('[data-control="cart-add"]'),e=!0,i=[];a.$options.each(function(){t(this).val()&&i.push(parseInt(t(this).val()))});for(var o=0,r=a.available.length;r>o;o++)a.arrayMatch(i,a.available[o],!0)&&(e=!1);n.prop("disabled",e)},t.fn.inventorySelector=function(){new a(this)},t(document).ready(function(){t('[data-control="inventory-selector"]').inventorySelector()})}(window.jQuery);